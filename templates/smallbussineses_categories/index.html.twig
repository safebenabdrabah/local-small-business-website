{% extends 'base.html.twig' %}

{% block title %}Small Businesses in {{ category.getCategoryName() }}{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('assets/css/smallbusiness_category.css') }}">
{% endblock %}

{% block body %}
<div class="page-title">
    <h2>Small Businesses in {{ category.getCategoryName() }} ({{ smallBusinesses|length }})</h2>
</div>

<div class="small-businesses-grid">
    {% for smallBusiness in smallBusinesses %}
        <div class="small-business-card">
          <a href="{{ path('app_smallbusinessreading', { 'id': smallBusiness.id }) }}">
            <img src="{{ smallBusiness.getLogo() }}" alt="logo of {{ smallBusiness.getName() }}" class="business-logo">
            <div class="business-content">
                <h3>{{ smallBusiness.getName() }}</h3>
                <p>{{ smallBusiness.getDescription()|split(' ')|slice(0, 5)|join(' ') ~ '...' }}</p>
            </div>
          </a>
        </div>
    {% else %}
        <p>No small businesses found for this category.</p>
    {% endfor %}
</div>
{% endblock %}
